
<objectSchema xmlns="http://simpleSys.ru/xml/library/bo" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://simpleSys.ru/xml/library/bo http://toucan.simplesys.lan/xml/xsd/v1.0.0-1/schema.xsd">
	<group caption="Электоронный архив технической документации" name="arx" prefix="ARX">
		<classes>
			<classSimple autoTableMapping="true" caption="Пользователи" name="user">
				<attrs>
					<attr caption="Наименование" mandatory="false" name="usname" type="sCaption"></attr>
					<attr caption="Код" mandatory="false" name="uscode" type="sCaption"></attr>
					<attr caption="Описание" mandatory="false" name="usrdescr" type="sCaption"></attr>
					<attr caption="PK" genBySeq="true" hidden="true" mandatory="true" name="id" type="id"></attr>
					<attr caption="Дата записи" mandatory="false" name="tdatein" type="dDateTime"></attr>
					<attr caption="Пароль" mandatory="false" name="password" type="sPasswordPlain"></attr>
					<attr caption="Пароль" mandatory="false" name="plogin" type="sCode"></attr>
					<attr caption="Активный" mandatory="false" name="bmain" type="bBoolean"></attr>
					<attr caption="Код профиля" mandatory="false" name="idprofile" type="nInt"></attr>
				</attrs>
				<defaults>
					<showAttrs>
						<attrName>uscode</attrName>
					</showAttrs>
					<uiSettings uiFormType="singleListGrid"></uiSettings>
				</defaults>
				<constraints>
					<uc uniqueType="pk">
						<attrName>id</attrName>
					</uc>
				</constraints>
			</classSimple>

			<classSimple autoTableMapping="true" caption="Типы абонентов" name="abonents_types">
				<attrs>
					<attr caption="PK" genBySeq="true" hidden="true" mandatory="true" name="id" type="id"></attr>
					<attr caption="Тип абонента" mandatory="false" name="vabontype" type="sCaption"></attr>
				</attrs>
				<defaults>
					<showAttrs>
						<attrName>vabontype</attrName>
					</showAttrs>
					<uiSettings uiFormType="singleListGrid"></uiSettings>
				</defaults>
				<constraints>
					<uc uniqueType="pk">
						<attrName>id</attrName>
					</uc>
				</constraints>
			</classSimple>

			<classSimple autoTableMapping="true" caption="Организации" name="abonents_org">
				<attrs>
					<attr caption="PK" genBySeq="true" hidden="true" mandatory="true" name="id" type="id"></attr>
					<attr caption="Код организации" mandatory="false" name="orgcode" type="sCode"></attr>
					<attr caption="Наименование организации" mandatory="false" name="orgname" type="sCaption"></attr>
				</attrs>
				<defaults>
					<showAttrs>
						<attrName>orgcode</attrName>
					</showAttrs>
					<uiSettings uiFormType="singleListGrid"></uiSettings>
				</defaults>
				<constraints>
					<uc uniqueType="pk">
						<attrName>id</attrName>
					</uc>
				</constraints>
			</classSimple>

			<classSimple autoTableMapping="true" caption="Абоненты" name="abonents">
				<attrs>
					<attr caption="Наименование" mandatory="false" name="vabname" type="sCaption"></attr>
					<attr caption="Код" mandatory="false" name="vabcode" type="sCode"></attr>
					<attr caption="PK" genBySeq="true" hidden="true" mandatory="true" name="id" type="id"></attr>
					<attr caption="Описание" mandatory="false" name="vabdesc" type="sCaption"></attr>
					<attr caption="Дата записи" mandatory="false" name="tdatein" type="dDateTime"></attr>
					<attr caption="Телефон 1" mandatory="false" name="vphone1" type="sPhone"></attr>
					<attr caption="Сотрудник" mandatory="false" name="vperson" type="sCaption"></attr>
					<attr caption="Телефон 2" mandatory="false" name="vphone2" type="sPhone"></attr>
					<attr caption="Электронная почта" mandatory="false" name="vemail" type="sEMail"></attr>
				</attrs>
				<defaults>
					<showAttrs>
						<attrName>orgcode</attrName>
					</showAttrs>
					<uiSettings uiFormType="singleListGrid"></uiSettings>
				</defaults>
				<constraints>
					<uc uniqueType="pk">
						<attrName>id</attrName>
					</uc>
					<fk parent="abonents_types" linkType="refIsOwner" mandatory="true">
						<mapping attrNameLocal="idabtype" attrNameRemote="id"/>
					</fk>
					<fk parent="abonents_org" linkType="refIsOwner" mandatory="true">
						<mapping attrNameLocal="idaborg" attrNameRemote="id"/>
					</fk>
				</constraints>
			</classSimple>

			<classSimple autoTableMapping="true" caption="Виды" name="doccats">
				<attrs>
					<attr caption="Наименование" mandatory="false" name="vctname" type="sCaption"></attr>
					<attr caption="Код" mandatory="false" name="vctcode" type="sCode"></attr>
					<attr caption="PK" genBySeq="true" hidden="true" mandatory="true" name="id" type="id"></attr>
					<attr caption="Дата записи" mandatory="false" name="tdatein" type="dDateTime"></attr>
				</attrs>
				<defaults>
					<showAttrs>
						<attrName>vctcode</attrName>
					</showAttrs>
					<uiSettings uiFormType="singleListGrid"></uiSettings>
				</defaults>
				<constraints>
					<uc uniqueType="pk">
						<attrName>id</attrName>
					</uc>
				</constraints>
			</classSimple>

			<classSimple autoTableMapping="true" caption="Литеры" name="docliter">
				<attrs>
					<attr caption="Код организации" mandatory="false" name="vlrcode" type="sCode"></attr>
					<attr caption="Наименование организации" mandatory="false" name="vlrname" type="sCaption"></attr>
					<attr caption="PK" genBySeq="true" hidden="true" mandatory="true" name="id" type="id"></attr>
					<attr caption="Дата записи" mandatory="false" name="tdatein" type="dDateTime"></attr>
				</attrs>
				<defaults>
					<showAttrs>
						<attrName>vlrcode</attrName>
					</showAttrs>
					<uiSettings uiFormType="singleListGrid"></uiSettings>
				</defaults>
				<constraints>
					<uc uniqueType="pk">
						<attrName>id</attrName>
					</uc>
				</constraints>
			</classSimple>

			<classSimple autoTableMapping="true" caption="Типы" name="doctypes">
				<attrs>
					<attr caption="Код организации" mandatory="false" name="vtycode" type="sCode"></attr>
					<attr caption="Наименование организации" mandatory="false" name="vtyname" type="sCaption"></attr>
					<attr caption="PK" genBySeq="true" hidden="true" mandatory="true" name="id" type="id"></attr>
					<attr caption="Дата записи" mandatory="false" name="tdatein" type="dDateTime"></attr>
				</attrs>
				<defaults>
					<showAttrs>
						<attrName>vtycode</attrName>
					</showAttrs>
					<uiSettings uiFormType="singleListGrid"></uiSettings>
				</defaults>
				<constraints>
					<uc uniqueType="pk">
						<attrName>id</attrName>
					</uc>
				</constraints>
			</classSimple>
		</classes>
	</group>
</objectSchema>